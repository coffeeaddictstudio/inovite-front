<div *ngIf="hasPermission" class="flex flex-col rounded-md shadow-default h-full min-h-100">
    <div class="flex items-center justify-between bg-gray-100 rounded-tl-md rounded-tr-md px-6 py-2">
        <div class="flex items-center">
            <img class="w-7 text-blue-900" src="assets/icons/file-settings-blue.svg" alt="">
            <span class="text-blue-900 font-bold pl-4">Gestão de documentos</span>
        </div>
        <div>
            <span [routerLink]="'/gestao-documento'" (click)="appService.registerTracking('Dashboard', 'Ver mais', {card: 'Gestão de Documentos'})" class="text-blue-500 text-sm font-bold cursor-pointer">Ver mais</span>
        </div>
    </div>

    <div class="py-4 h-full">
        <div *ngIf="loading || (documents && documents.length > 0)" class="text-sm text-blue-900 pb-3 px-4">Mais recentes:</div>

        <div class="w-full h-full flex items-center justify-center text-gray-500 text-sm" *ngIf="!loading && documents.length === 0">Nenhum documento encontrado.</div>

        <div class="flex flex-wrap items-center pr-4">
            <div *ngIf="loading" class="w-full flex flex-wrap items-center">
                <div class="w-full md:w-1/2 cursor-pointer pl-4 py-2">
                    <div class="flex flex-col shadow-default rounded-md">
                        <div class="flex items-center bg-gray-200 py-2 rounded-tl-md rounded-tr-md">
                            <div class="flex items-center justify-center px-3">
                                <mat-icon [svgIcon]="'awesome_solid:file'"></mat-icon>
                            </div>
                            <div class="flex flex-col text-blue-900 text-sm w-full font-medium ">
                                <div class="h-5 w-1/3 bg-gray-300 rounded-md"></div>
                                <div class="h-5 w-1/2 bg-gray-300 rounded-md mt-1"></div>
                            </div>
                        </div>
                        <div class="px-3 py-2 text-blue-400 font-medium text-sm">
                            <div class="h-5 w-1/2 bg-gray-200 rounded-md"></div>
                        </div>
                    </div>
                </div>

                <div class="w-full md:w-1/2 cursor-pointer pl-4 py-2">
                    <div class="flex flex-col shadow-default rounded-md">
                        <div class="flex items-center bg-gray-200 py-2 rounded-tl-md rounded-tr-md">
                            <div class="flex items-center justify-center px-3">
                                <mat-icon [svgIcon]="'awesome_solid:file'"></mat-icon>
                            </div>
                            <div class="flex flex-col text-blue-900 text-sm w-full font-medium">
                                <div class="h-5 w-1/3 bg-gray-300 rounded-md"></div>
                                <div class="h-5 w-1/2 bg-gray-300 rounded-md mt-1"></div>
                            </div>
                        </div>
                        <div class="px-3 py-2 text-blue-400 font-medium text-sm">
                            <div class="h-5 w-1/2 bg-gray-200 rounded-md"></div>
                        </div>
                    </div>
                </div>

                <div class="w-full md:w-1/2 cursor-pointer pl-4 py-2">
                    <div class="flex flex-col shadow-default rounded-md">
                        <div class="flex items-center bg-gray-200 py-2 rounded-tl-md rounded-tr-md">
                            <div class="flex items-center justify-center px-3">
                                <mat-icon [svgIcon]="'awesome_solid:file'"></mat-icon>
                            </div>
                            <div class="flex flex-col text-blue-900 text-sm w-full font-medium">
                                <div class="h-5 w-1/3 bg-gray-300 rounded-md"></div>
                                <div class="h-5 w-1/2 bg-gray-300 rounded-md mt-1"></div>
                            </div>
                        </div>
                        <div class="px-3 py-2 text-blue-400 font-medium text-sm">
                            <div class="h-5 w-1/2 bg-gray-200 rounded-md"></div>
                        </div>
                    </div>
                </div>

                <div class="w-full md:w-1/2 cursor-pointer pl-4 py-2">
                    <div class="flex flex-col shadow-default rounded-md">
                        <div class="flex items-center bg-gray-200 py-2 rounded-tl-md rounded-tr-md">
                            <div class="flex items-center justify-center px-3">
                                <mat-icon [svgIcon]="'awesome_solid:file'"></mat-icon>
                            </div>
                            <div class="flex flex-col text-blue-900 text-sm w-full font-medium">
                                <div class="h-5 w-1/3 bg-gray-300 rounded-md"></div>
                                <div class="h-5 w-1/2 bg-gray-300 rounded-md mt-1"></div>
                            </div>
                        </div>
                        <div class="px-3 py-2 text-blue-400 font-medium text-sm">
                            <div class="h-5 w-1/2 bg-gray-200 rounded-md"></div>
                        </div>
                    </div>
                </div>
            </div>

            <ng-container *ngIf="!loading && documents && documents.length > 0">
                <div (click)="open(document)" *ngFor="let document of documents; let i = index;" class="w-full md:w-1/2 cursor-pointer pl-4 py-2">
                    <div class="flex flex-col shadow-default rounded-md">
                        <div class="flex items-center bg-gray-200 py-2 rounded-tl-md rounded-tr-md">
                            <div class="flex items-center justify-center px-3">
                                <mat-icon [svgIcon]="'awesome_solid:file'"></mat-icon>
                            </div>
                            <div class="flex flex-col text-blue-900 text-sm font-medium">
                                <span *ngIf="document.descricao" class="md:w-32 whitespace-nowrap text-ellipsis text-adjustment">{{document.descricao}}</span>
                                <span *ngIf="!document.descricao" class="md:w-32 whitespace-nowrap text-ellipsis text-adjustment"><br></span>
                                <span>{{document.dataDocumento | date: 'dd/MM/yyyy'}}</span>
                            </div>
                        </div>
                        <div class="px-3 py-2 text-blue-400 font-medium text-sm">
                            {{document.nomeTipoGrupoAdministrativo}}
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
</div>

<div *ngIf="!hasPermission" class="bg-white flex flex-col w-full h-full shadow-default rounded-md min-h-100">
    <div class="flex items-center justify-between bg-gray-100 rounded-tl-md rounded-tr-md px-6 py-2">
        <div class="flex items-center">
            <img class="w-7 text-blue-900" src="assets/icons/file-settings-blue.svg" alt="">
            <span class="text-blue-900 font-bold pl-4">Gestão de documentos</span>
        </div>
    </div>

    <div class="flex items-center justify-center w-full h-full">
        <span class="text-gray-500 text-sm">Você não possui permissão para acessar essa funcionalidade!</span>
    </div>
</div>
