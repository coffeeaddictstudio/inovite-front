<div class="relative w-full h-screen">

    <div class="absolute right-0 pt-4 pr-4">
        <button mat-icon-button (click)="closeDialog()">
            <mat-icon class="text-secondary" [svgIcon]="'heroicons_outline:x'"></mat-icon>
        </button>
    </div>

    <div class="flex flex-col justify-start items-start h-screen md:h-auto pt-20 pb-10">
        <ng-container content>

            <p class="w-full"><img class="m-0 w-full" src="/assets/images/report-header.png"></p>

            <div class="w-full flex items-start text-left bg-gray-200 justify-between px-6 py-4">
                <div class="w-full flex flex-wrap items-start">
                    <div class="w-full sm:w-2/3 flex flex-col">
                        <div class="text-primary-800 text-base font-bold">Edital de convocação de assembleia <span class="font-medium">{{assembly?.assembly_types?.short_name}}</span></div>
                        <div class="text-gray-800 text-md font-semibold">{{assembly?.condominium?.name}} - {{assembly?.condominium?.code}}</div>
                    </div>
                    <div class="w-full sm:w-1/3 flex sm:justify-end">
                        <div class="flex flex-row sm:flex-col sm:items-end text-gray-800 text-md font-semibold">
                            <span>{{assembly?.condominium?.ads_address1}}</span>
                            <span>{{assembly?.condominium?.ads_city}}, {{todayDate | date: 'dd/MM/YYYY'}}</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-left text-sm px-6 mt-4">
                <span>Pelo presente edital de convocação, devidamente autorizado pelo</span>
                <span class="font-semibold mx-1">síndico,</span>
                <span>temos o grato prazer de convidá-lo para a</span>
                <span class="font-semibold mx-1">{{assembly?.assembly_types?.name}}.</span>
            </div>

            <div class="flex items-start mt-8">
                <div class="w-full flex items-start justify-center max-w-16">
                    <mat-icon class="text-primary-800" [svgIcon]="'awesome_solid:calendar-alt'"></mat-icon>
                </div>
                <div class="flex flex-col items-start">
                    <div class="font-semibold text-gray-800">{{assembly?.date | date: 'dd/MM/Y'}}</div>
                    <div class="font-semibold text-gray-800">Primeira convocação: {{assembly?.first_call_hour}}, segunda e última: {{assembly?.second_call_hour}}</div>
                </div>
            </div>

            <div class="flex items-start mt-8 ml-5">
                <div class="w-full flex items-start justify-center max-w-16">
                    <mat-icon class="text-primary-800" [svgIcon]="'awesome_solid:map-marker-alt'"></mat-icon>
                </div>
                <div class="flex flex-col items-start">
                    <div class="font-semibold text-gray-800 font-lg">{{assembly?.locale}}</div>
                </div>
            </div>

            <div class="flex items-start mt-8 ml-5">
                <div class="w-full flex items-start justify-center max-w-16">
                    <mat-icon class="text-primary-800" [svgIcon]="'awesome_solid:clipboard'"></mat-icon>
                </div>
                <div class="flex flex-col items-start">
                    <div class="font-semibold text-gray-800 font-lg">Pauta:</div>

                    <ng-container *ngFor="let item of assembly?.assembly_schedule_items; let i = index">
                        <div class="flex items-center">
                            <span class="font-semibold mr-1">{{i + 1}} - </span><span *ngIf="item.item_default" class="font-semibold mr-2">{{item?.item_default?.description}}</span>
                            <div class="text-gray-800 font-lg">{{item?.description}}</div>
                        </div>
                    </ng-container>
                </div>
            </div>

            <div class="flex items-start mt-6">
                <div class="w-full flex items-start justify-center max-w-16">
                    <mat-icon class="text-primary-800" [svgIcon]="'awesome_solid:users'"></mat-icon>
                </div>
                <div class="flex flex-col items-start w-full h-full">
                    <span>{{description}}</span>
                </div>
            </div>

            <div class="flex items-start justify-between mt-4 px-6">
                <div class="font-semibold text-gray-800 font-lg">Atenciosamente,</div>
            </div>

            <div class="flex flex-col items-start mt-4 pl-6">
                <div class="w-full flex flex-col items-start font-semibold text-gray-800 font-lg">
                    {{assembly?.consultor?.name}}
                </div>
                <div class="w-full flex flex-col sm:flex-row items-start justify-between">
                    <div class="font-normal text-gray-800 font-lg">
                        Consultor(a) do condomínio.
                    </div>
                    <div class="font-normal text-gray-800 font-lg">21 2196-5000 | <span class="font-semibold">cipa.com.br</span></div>
                </div>

            </div>


            <!-- Navigation - Desktop -->
            <div *ngIf="assembly.completed <= 4" class="z-10 w-full justify-center sticky hidden lg:flex bottom-4 p-4">
                <div class="flex items-center justify-center mx-auto p-2 rounded-full">
                    <button
                        class="flex-0 mr-4 mat-secondary"
                        mat-flat-button
                        (click)="rejectNotice()">
                        <mat-icon
                            class="mr-2 icon-size-3 text-primary"
                            [svgIcon]="'awesome_solid:times'"></mat-icon>
                        <span class="mr-1">Rejeitar</span>
                    </button>
                    <button
                        class="flex-0 ml-4"
                        [color]="'primary'"
                        mat-flat-button
                        (click)="approveNotice()">
                        <span class="ml-1">Aprovar</span>
                        <mat-icon
                            class="ml-2 icon-size-3 text-white"
                            [svgIcon]="'awesome_solid:check'"></mat-icon>
                    </button>
                </div>
            </div>

        </ng-container>
    </div>

</div>

